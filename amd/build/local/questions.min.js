define("qtype_answersheet/local/questions",["exports"],(function(_exports){function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}
/**
   * TODO describe module questions
   *
   * @module     qtype_answersheet/local/questions
   * @copyright  2025 Bas Brands <bas@sonsbeekmedia.nl>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0;class Questions{constructor(element,questionid){_defineProperty(this,"questionid",void 0),_defineProperty(this,"element",void 0),this.element=element,this.questionid=parseInt(questionid),this.addEventListeners(),this.setLetterInputValues()}addEventListeners(){this.element.addEventListener("input",(e=>{const input=e.target.closest('[data-region="letterinput"]');if(input&&this.letterInputAction(input),"deleteContentBackward"===e.inputType){const index=parseInt(input.dataset.index),previousInput=input.closest('[data-region="letterbyletterquestion"]').querySelector('[data-index="'.concat(index-1,'"]'));previousInput&&previousInput.focus()}}))}letterInputAction(input){const value=input.value,index=parseInt(input.dataset.index),nextInput=input.closest('[data-region="letterbyletterquestion"]').querySelector('[data-index="'.concat(parseInt(index)+1,'"]'));value.length>1&&(input.value=value.charAt(0),nextInput&&(nextInput.focus(),nextInput.value=value.charAt(1))),this.setHiddenInputValue(input)}setHiddenInputValue(input){const row=input.closest('[data-region="letterbyletterquestion"]'),hiddenInput=row.querySelector('input[data-region="hiddeninput"]'),inputs=row.querySelectorAll('[data-region="letterinput"]');let value="";for(let i=0;i<inputs.length;i++)value+=inputs[i].value;hiddenInput.value=value}setLetterInputValues(){const rows=this.element.querySelectorAll('[data-region="letterbyletterquestion"]');for(let i=0;i<rows.length;i++){const value=rows[i].querySelector('input[data-region="hiddeninput"]').value,inputs=rows[i].querySelectorAll('[data-region="letterinput"]');for(let j=0;j<inputs.length;j++)inputs[j].value=value.charAt(j)}}}var _default={init:(element,questionid)=>{new Questions(element,questionid)}};return _exports.default=_default,_exports.default}));

//# sourceMappingURL=questions.min.js.map